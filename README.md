Для определения страну по IP потребуется сделать запрос к API, который возвращает страну по IP.
 В этом примере мы будем использовать ipapi.co (бесплатный план: 1000 запросов в день).
 Шаги:
 1. При загрузке страницы делаем запрос к API ipapi.co/json/ для получения данных о местоположении.
 2. Из ответа получаем код страны (country_code_iso2).
 3. Устанавливаем эту страну как выбранную по умолчанию в нашем селекте.
 Важно: Этот код будет работать только при загрузке страницы через веб-сервер (из-за CORS).
 Также добавим обработку ошибок, если API не доступно или не возвращает код страны.
 Дополнение:
  - Добавим индикатор загрузки при определении страны по IP.
  - Если определение не сработает, оставим страну по умолчанию (значение из data-default-country).
 Внесем изменения в предыдущий код.

Как работает определение страны по IP
Эта форма автоматически определяет ваше местоположение с помощью бесплатного IP Geolocation API:

При загрузке страницы отправляется запрос к https://ipapi.co/json/

API возвращает информацию о вашем местоположении, включая код страны

Форма автоматически устанавливает соответствующий формат телефона

В верхней части формы отображается определенная страна

Создано с помощью ИИ deepseek
